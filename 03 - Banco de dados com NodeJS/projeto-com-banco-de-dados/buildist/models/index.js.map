{"version":3,"sources":["../../models/index.js"],"names":["Sequelize","require","sequelize","dialect","storage","define","freezeTableName","timestamps","charset","User","id","autoIncrement","primaryKey","type","BIGINT","name","STRING","username","unique","password","allowNull","birthday","DATEONLY","Task","description","TEXT","hasMany","onDelete","onUpdate","foreignKey","module","exports"],"mappings":";;AAAA,IAAMA,YAAYC,QAAQ,WAAR,CAAlB;;AAEA,IAAMC,YAAY,IAAIF,SAAJ,CAAc,IAAd,EAAoB,IAApB,EAA0B,IAA1B,EAAgC;AAC9CG,aAAS,QADqC;AAE9CC,aAAS,gBAFqC;AAG9CC,YAAQ;AACJC,yBAAiB,IADb;AAEJC,oBAAY,IAFR;AAGJC,iBAAS;AAHL;AAHsC,CAAhC,CAAlB;;AAUA,IAAMC,OAAOP,UAAUG,MAAV,CAAiB,MAAjB,EAAyB;AAClCK,QAAI;AACAC,uBAAe,IADf;AAEAC,oBAAY,IAFZ;AAGAC,cAAMb,UAAUc;AAHhB,KAD8B;AAMlCC,UAAMf,UAAUgB,MAAV,CAAiB,GAAjB,CAN4B;AAOlCC,cAAU;AACNC,gBAAQ,IADF;AAENL,cAAMb,UAAUgB,MAAV,CAAiB,EAAjB;AAFA,KAPwB;AAWlCG,cAAU;AACNC,mBAAW,KADL;AAENP,cAAMb,UAAUgB,MAAV,CAAiB,GAAjB;AAFA,KAXwB;AAelCK,cAAUrB,UAAUsB;AAfc;AAiBlC;AACA;AACA;AACA;AACA;AACA;AACA;AAvBS,CAAb;;AA0BA,IAAMC,OAAOrB,UAAUG,MAAV,CAAiB,MAAjB,EAAyB;AAClCK,QAAI;AACAC,uBAAe,IADf;AAEAC,oBAAY,IAFZ;AAGAC,cAAMb,UAAUc;AAHhB,KAD8B;AAMlCU,iBAAa;AACTJ,mBAAW,KADF;AAETP,cAAMb,UAAUyB;AAFP;AANqB,CAAzB,CAAb;;AAYAhB,KAAKiB,OAAL,CAAaH,IAAb,EAAmB;AACfI,cAAU,WADK;AAEfC,cAAU,WAFK;AAGfC,gBAAY;AAHG,CAAnB;;AAMAC,OAAOC,OAAP,GAAiB;AACb7B,wBADa;AAEbO,cAFa;AAGbc;AAHa,CAAjB","file":"index.js","sourcesContent":["const Sequelize = require('sequelize');\r\n\r\nconst sequelize = new Sequelize(null, null, null, {\r\n    dialect: 'sqlite',\r\n    storage: './banco.sqlite',\r\n    define: {\r\n        freezeTableName: true,\r\n        timestamps: true,\r\n        charset: 'utf8'\r\n    },\r\n});\r\n\r\nconst User = sequelize.define('user', {\r\n    id: {\r\n        autoIncrement: true,\r\n        primaryKey: true,\r\n        type: Sequelize.BIGINT\r\n    },\r\n    name: Sequelize.STRING(100),\r\n    username: {\r\n        unique: true,\r\n        type: Sequelize.STRING(40)\r\n    },\r\n    password: {\r\n        allowNull: false,\r\n        type: Sequelize.STRING(255)\r\n    },\r\n    birthday: Sequelize.DATEONLY,\r\n},\r\n    // {\r\n    //     defaultScope: {\r\n    //         attributes: {\r\n    //             exclude: ['password']\r\n    //         }\r\n    //     }\r\n    // }\r\n);\r\n\r\nconst Task = sequelize.define('task', {\r\n    id: {\r\n        autoIncrement: true,\r\n        primaryKey: true,\r\n        type: Sequelize.BIGINT\r\n    },\r\n    description: {\r\n        allowNull: false,\r\n        type: Sequelize.TEXT\r\n    }\r\n});\r\n\r\nUser.hasMany(Task, {\r\n    onDelete: 'NO ACTION',\r\n    onUpdate: 'NO ACTION',\r\n    foreignKey: 'user_id'\r\n});\r\n\r\nmodule.exports = {\r\n    sequelize,\r\n    User,\r\n    Task,\r\n}\r\n"]}